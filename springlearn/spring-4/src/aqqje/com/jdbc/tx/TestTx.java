package aqqje.com.jdbc.tx; /** * Copyright (c), 2018-2018, XXX有限公司 * FileName: aqqje.com.jdbc.tx.TestTx * Author:   Administrator * Date:     2018/5/1022:37 * Description: * History: * <author>    <time>    <version>    <desc> * 作者姓名     修改时间      版本号       描述 */import aqqje.com.jdbc.tx.beans.dao.BookShopDao;import aqqje.com.jdbc.tx.services.BookStockService;import aqqje.com.jdbc.tx.services.Cashier;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import java.util.Arrays;public class TestTx {    private ApplicationContext context = null;    private BookShopDao bookShopDao;    private BookStockService bookStockService;    private Cashier cashier;    {        context = new ClassPathXmlApplicationContext("applicationContext.xml");        bookShopDao = (BookShopDao) context.getBean("bookShopDao");        bookStockService = (BookStockService) context.getBean("bookStockService");        cashier = (Cashier) context.getBean("cashier");    }    @Test    public void testCheckOut() {        cashier.checkOut("Tom", Arrays.asList(1, 2));    }    @Test    public void testBookStockService() {        bookStockService.purchase("Tom", 1);    }    @Test    public void testFindBookNameByIsbn() {        int result = (int) bookShopDao.findPriceByisbn(1);        System.out.println(result);    }    @Test    public void testUpdataStock() {        bookShopDao.updataStock(1);    }    @Test    public void testUpdataBalance() {        bookShopDao.updataBalance("Tom", 2000);    }}